# Week 7 성능 평가 & XAI
```
 결정계수R^2, 수정결정계수 Adj R^2
 p-value, 분산분석ANOVA
 confusion matrix, f1 score
 PDP, ICE, LIME, SHAP
```

## 결정계수 R^2
정의 : 회귀 모델이 데이터 변동성을 얼마나 설명하는지
* 설명력
$$R^2 = 1 - \frac{SS_{res}}{SS_{tot}}$$

* 1에 가까울수록 좋음
* 0이면 평균 예측 수준
* 음수 가능 (모델이 평균보다 못할 때)

### R square 가 음수?
* `설명력` 이니 `반비례의 관계` 아닐까 라고 생각이 듦
* 하지만 정의를 보면 
  * $SS_{res} = \sum (y_i - \hat{y}_i)^2$ : 값 - 추정값의 제곱의 합
  * $SS_{tot} = \sum (y_i - \bar{y})^2$ : 값 - 평균의 제곱의 합
* 즉, delta_예측이 delta_평균보다 크면 R^2이 음수가 나옴
> 결론 : 단순 평균을 통한 예측보다 못한 설명력

## 수정결정계수 Adj R^2
정의 : 결정계수에 변수의 개수를 고려한 값
> 변수를 여러개 넣고 차원을 확대 했더니 R^2이 증가 &rarr; 사실 수식에 의해 증가하는 것이지, 다른 차원으로 봤을때 설명력이 증가하는게 아님


* 변수가 많아지면 R^2는 무조건 증가
* 이를 보정한 값(저번에 배운 p-value와 같은 맥락)
$$\bar{R}^2 = 1 - (1 - R^2)\frac{n-1}{n-k-1}$$

* k : 변수의 개수
* n : 데이터의 개수


## p-value 
```
어떤 약이 효과가 없다고 가정(H₀)

실험 결과 평균 차이가 매우 크게 나왔다.
```
* p < 0.01 → 매우 유의 (예상대로 결과 좋음)
* p < 0.05 → 통계적으로 유의(나쁘지 않음)
* p ≥ 0.05 → 유의하지 않음 (실험 실패)

> p-value는 귀무가설이 참일 때 관측된 결과 이상이 나올 확률이며, 작을수록 해당 효과가 우연일 가능성이 낮다고 판단한다.

### ML vs 통계
통계:

* 변수 유의성 판단
* 통계 모델 해석 중심

ML:

* 예측 성능 중심
* p-value 잘 안 씀



## 분산분석 ANOVA

## confusion matrix

## f1 score

## PDP

## ICE

## LIME

## SHAP